#:kivy 1.11.1

<TagScreen>:
    name: 'tag'
    screen_title: 'Tag'
    tagged_categories_subtitle: 'Tagged categories'
    tagged_articles_subtitle: 'Tagged_articles'
    tag_name: ''
    tag_has_tagged_categories: False
    tag_has_tagged_articles: False
    BoxLayout:
        orientation: 'vertical'
        padding: '4dp'
        spacing: '4dp'
        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size
        ScreenTitleBar:
            title: root.screen_title
        ScrollView:
            id: screen_content_scrollview
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                AnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'center'
                    size_hint_y: None
                    height: '80dp'
                    Label:
                        text: root.tag_name
                        font_size: '24dp'
                        bold: True
                        size_hint: None, None
                        size: self.texture_size
                        padding: '16dp', '8dp'
                        color: 1, 1, 1, 1
                        canvas.before:
                            Color:
                                rgba: 0, .7, .7, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: '10dp'
                    padding: (0, '10dp') if root.tag_has_tagged_categories else (0, 0)
                    AnchorLayout:
                        anchor_x: 'center'
                        size_hint_y: None
                        height: '40dp' if root.tag_has_tagged_categories else 0
                        opacity: 1 if root.tag_has_tagged_categories else 0
                        BoxLayout:
                            orientation: 'horizontal'
                            size_hint_x: None
                            width: self.minimum_width
                            Image:
                                pos: self.parent.pos
                                source: 'assets/img/category.png'
                                size_hint_x: None
                                width: self.height
                                color: 1, 1, 1, .5
                            Label:
                                text: root.tagged_categories_subtitle
                                font_size: '20dp'
                                bold: True
                                padding: '8dp', '8dp'
                                size_hint_x: None
                                width: self.texture_size[0]
                                halign: 'left'
                                valign: 'middle'
                                color: .6, .6, .6, 1
                    BoxLayout:
                        id: categoriesmenu_container
                        orientation: 'vertical'
                        size_hint_y: None
                        height: self.minimum_height
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: '10dp'
                    padding: (0, '10dp') if root.tag_has_tagged_articles else (0, 0)
                    AnchorLayout:
                        anchor_x: 'center'
                        size_hint_y: None
                        height: '40dp' if root.tag_has_tagged_articles else 0
                        opacity: 1 if root.tag_has_tagged_articles else 0
                        BoxLayout:
                            orientation: 'horizontal'
                            size_hint_x: None
                            width: self.minimum_width
                            Image:
                                pos: self.parent.pos
                                source: 'assets/img/article.png'
                                size_hint_x: None
                                width: self.height
                                color: 1, 1, 1, .5
                            Label:
                                text: root.tagged_articles_subtitle
                                font_size: '20dp'
                                bold: True
                                padding: '8dp', '8dp'
                                size_hint_x: None
                                width: self.texture_size[0]
#                                height: '40dp'
#                                text_size: self.width, self.height
                                halign: 'left'
                                valign: 'middle'
                                color: .6, .6, .6, 1
                    BoxLayout:
                        id: articlesmenu_container
                        orientation: 'vertical'
                        size_hint_y: None
                        height: self.minimum_height
